<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Datos 2 - UPLA</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- Navegaci√≥n de regreso -->
        <div class="back-navigation" id="backNav">
            <button class="back-btn" onclick="goToMain()">
                ‚Üê Volver al inicio
            </button>
        </div>

        <!-- Header com√∫n -->
        <div class="header">
            <div class="university-info">
                <div class="logo-upla">
                    <img src="img/logoupla.png">
                </div>
                <div class="course-info">
                    <h1>Base de Datos II</h1>
                    <p>Ing. Sistemas y Computaci√≥n </p>
                </div>
            </div>
        </div>

        <!-- P√°gina principal -->
        <div class="main-page" id="mainPage">
            <div id="unitsContainer">
                <!-- Las unidades se generar√°n con JavaScript -->
            </div>
        </div>

        <!-- P√°ginas de contenido semanal -->
        <div id="weekPages">
            <!-- Las p√°ginas se generar√°n din√°micamente -->
        </div>

            <!-- Contenedor modal para vista previa -->
        <div id="previewModal" class="preview-modal">
        <div class="preview-content">
            <span class="close-btn" onclick="closePreview()">&times;</span>
            <iframe id="previewFrame" src="" frameborder="0"></iframe>
        </div>
</div>
    </div>

    <script src="js/data.js"></script>
    <script src="js/app.js"></script>

    <!-- NUEVO SCRIPT (no borra nada de lo anterior) -->
    <script>
        // Configuraci√≥n de GitHub
        const githubConfig = {
          usuario: "TU_USUARIO_GITHUB", // üîπ c√°mbialo por tu usuario
          repo: "NOMBRE_DE_TU_REPO"     // üîπ c√°mbialo por tu repo
        };
  
        // Funci√≥n para cargar archivos de una semana
        async function cargarArchivosSemana(semanaId, titulo) {
          const { usuario, repo } = githubConfig;
          const apiUrl = `https://api.github.com/repos/${usuario}/${repo}/contents/${semanaId}`;
  
          const weekPages = document.getElementById("weekPages");
          weekPages.innerHTML = ""; // limpia contenido viejo
  
          const h2 = document.createElement("h2");
          h2.textContent = titulo;
          weekPages.appendChild(h2);
  
          const ul = document.createElement("ul");
          weekPages.appendChild(ul);
  
          try {
            const response = await fetch(apiUrl);
            if (!response.ok) throw new Error("No se pudo conectar a GitHub");
            const data = await response.json();
  
            data.forEach(item => {
              if (item.type === "file") {
                const li = document.createElement("li");
  
                const span = document.createElement("span");
                span.textContent = item.name;
  
                const btn = document.createElement("button");
                btn.textContent = "Vista previa";
                btn.onclick = () => window.open(item.download_url, "_blank");
  
                li.appendChild(span);
                li.appendChild(btn);
                ul.appendChild(li);
              }
            });
          } catch (e) {
            const p = document.createElement("p");
            p.textContent = "Error al cargar archivos de GitHub.";
            weekPages.appendChild(p);
          }
        }
      </script>
</body>
</html>